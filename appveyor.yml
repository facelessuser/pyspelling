build: false

clone_depth: 5

environment:
  matrix:
    - PYTHON: "C:/Python34"
      TOXENV: "py34"
    - PYTHON: "C:/Python35"
      TOXENV: "py35"
    - PYTHON: "C:/Python36"
      TOXENV: "py36"
    - PYTHON: "C:/Python37"
      TOXENV: "py37"
    - PYTHON: "C:/Python36"
      TOXENV: "lint"
    - PYTHON: "C:/Python36"
      TOXENV: "documents"

init:
  - "ECHO %TOXENV%"
  - "ECHO %PYTHON%"
  - ps: "ls C:/Python*"

install:
  - "%PYTHON%/Scripts/pip.exe install virtualenv"
  - "%PYTHON%/Scripts/pip.exe install tox"
  - "%PYTHON%/Scripts/pip.exe install codecov"
  - SET PATH=C:\msys64\mingw64\bin;C:\msys64\usr\bin;%PYTHON%;%PYTHON%\Scripts;%PATH%
  - SET PKG_CONFIG_PATH=C:\msys64\mingw64\lib\pkgconfig
  - SET XDG_DATA_DIRS=C:\msys64\mingw64\share
  - pacman --version
  - pacman -S mingw-w64-x86_64-aspell mingw-w64-x86_64-aspell-en mingw-w64-x86_64-hunspell mingw-w64-x86_64-hunspell-en

test_script:
  - pip --version
  - virtualenv --version
  - tox --version
  - tox

after_test:
  - if not ("%TOXENV%" == "lint") if not ("%TOXENV% == "documents") codecov

matrix:
  fast_finish: true
